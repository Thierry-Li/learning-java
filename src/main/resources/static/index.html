<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>


<h1>Hello photo</h1>
<section id="section"></section>

<a href="/upload.html">Go To Upload</a>

<script>
    (async function fetchPhotos() {
        await fetch(
    "http://localhost:8080/photos", {
      method: "GET"
  }).then((response) => {
    console.log("response:", response)
    console.log("response.ok:", response.ok)
    console.log("response.status:", response?.status)
    return response.json()
  }).then((json) => {
    console.log("json:", json)


    document.body.appendChild(document.createElement("section"))
    let ul = '<ul>'

    json.forEach(item => {
       ul += '<li>'+ '<h4>' + item.id + '</h4>' + '<span><p>' + item.fileName + '</p>' + '<img src="' + item.data + '" alt="photo"/></span> </div>' +  '</li>';
    });

    ul += '</ul>';

    document.getElementById("section").innerHTML = ul;



  })
    })()



























</script>
</body>
</html>